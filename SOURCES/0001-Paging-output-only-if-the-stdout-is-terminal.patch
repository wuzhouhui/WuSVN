From 488c13523ae9e6ccdeec131998157e8db78329ff Mon Sep 17 00:00:00 2001
From: wuzhouhui <wuzhouhui250@gmail.com>
Date: Sat, 24 Dec 2016 17:44:39 +0800
Subject: [PATCH 1/2] Paging output only if the stdout is terminal

---
 subversion/svn/svn.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/subversion/svn/svn.c b/subversion/svn/svn.c
index 224ce4d..a886ca6 100644
--- a/subversion/svn/svn.c
+++ b/subversion/svn/svn.c
@@ -3039,13 +3039,13 @@ sub_main(int *exit_code, int argc, const char *argv[], apr_pool_t *pool,
     ctx->conflict_baton2 = b;
   }
 
-  if (subcommand->cmd_func == svn_cl__blame ||
+  if (isatty(STDOUT_FILENO) && (subcommand->cmd_func == svn_cl__blame ||
 		  subcommand->cmd_func == svn_cl__cat ||
 		  subcommand->cmd_func == svn_cl__diff ||
 		  subcommand->cmd_func == svn_cl__log ||
 		  subcommand->cmd_func == svn_cl__status ||
 		  subcommand->cmd_func == svn_cl__list ||
-		  subcommand->cmd_func == svn_cl__help) {
+		  subcommand->cmd_func == svn_cl__help)) {
     int fd[2];
 
     if (pipe(fd) < 0) {
-- 
2.10.1

